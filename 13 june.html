<!DOCTYPE html>
<html>
<head>
<title>Timng Events</title>
   <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body>
<h1 style="text-align:center";>Timing Events, Callback, Asynchronous</h1>
<hr>
<h2>Set TimeOut () and Clear Timeout()</h2>
<p>Click "Try it". Wait 3 seconds. The page will alert "Hello".</p>
<p>Click "Stop" to prevent the first function to execute.</p>
<p>(You must click "Stop" before the 3 seconds are up.)</p>
<button onclick="timeout = setTimeout(time1, 3000)">Try it</button> <!--syntax onclick="varibale name =setTimeout(function name,milliseconds")-->
<button onclick="clearTimeout(timeout)">Stop it</button>  <!--syntax onclick="clearTimeout(variblaename)"-->
	<script>
	function time1() {
	  alert("Hello");
	}
	</script>
<br>

<h2>Settimeout and clear timeout</h2>
<button class="btn btn-primary" onclick="startTimer()">Start</button><br><br>
<button class="btn btn-secondary" onclick="stopTimer()">Stop</button>
<p id="p1" style="background-color:beige" class="p-3 m-3"></p>
		<script>
		function startTimer(){
			document.getElementById("p1").textContent="Wait for sometime!!!...";
			timerId= setTimeout(function(){document.getElementById("p1").textContent= "⏰ Time to Work";},2000);
			}
		function stopTimer(){
		   clearTimeout(timerId);
		   document.getElementById("p1").textContent="It's time to sleep";
		}
		</script>
<br>
<hr>

<h2>Time Interval and clear Interval</h2>
<p>Output in console log</p>
<script>
let count=5;
 function showtimer()
 {
	
	console.log(count);
	count--;
	if(count<0)
	{
	clearInterval(timer);
	console.log("Time is up!!!...")
	}
 }
	let timer= setInterval(showtimer, 1000);
</script>
<bR><HR>

<h2>Javascript Callback()</h2>
<p>JavaScript functions are executed in the sequence they are called. Not in the sequence they are defined.
This example will end up displaying "....." it overwrites the before functions and all it shows only the last function result</p>
<p id="p2"></p>
	<script>
		function display(para)
		{
		 document.getElementById("p2").innerHTML=para;
		}
		function display1()
		{
		 display("Rickshi"); //first function
		}
		function display2()
		{
		 display("Thara"); //second function
		}
		display1();
		display2();  //it display the function 2 because it overwrite the function 1
	</script>
<br><hr>
<h4>Using callback refrence</h4>
<p id="p3"></p>
	<script>
		function display_(para1) {
		 document.getElementById("p3").innerHTML += para1 + "<br>";

		}

		function firstFunction(para1) {
		  display_("Rickshi"); // Run this first
		  para1();             // Then run the callback
		}

		function secondFunction() {
		  alert("Second Function is now running");
		  display_("Thara");
		}

		firstFunction(secondFunction);
	</script>
<br><hr>

<h2>Asynchronous</h2>
<p class="text-warning"> It wait for sometimes to show the output because it is asynchronous("I will finish later")</p>
<p id="p4"></p>
<script>
	setTimeout(a1,4000);
	function a1()
	{
	 document.getElementById("p4").innerHTML="Asynchornous are Running after 4 seconds";
	}
</script>
<br><hr>
<h2>JavaScript Promises</h2>
<p>
JavaScript Promises are used to handle asynchronous operations. They represent a value that may be available now, in the future, or never. A promise can be:
<ul>
  <li><strong>Resolved</strong> — the operation completed successfully</li>
  <li><strong>Rejected</strong> — the operation failed</li>
</ul>
This example simulates an asynchronous operation (like fetching data from a server) that resolves after 3 seconds.
</p>
<p id="p5" style="background-color: lavender; padding: 10px;"></p>

<script>
// Create a new Promise
let promise = new Promise(function(resolve, reject) {
  let success = true;  // Simulated condition to control success/failure

  // Simulate a delay using setTimeout
  setTimeout(() => {
    if (success) {
      resolve("Successful"); // If condition is true, resolve the Promise
    } else {
      reject("Rejected");    // If condition is false, reject the Promise
    }
  }, 3000); // 3-second delay
});

// Handle a successful Promise resolution
promise.then((message) => {
  document.getElementById("p5").innerHTML = "THEN: " + message;
});

// Handle Promise rejection
promise.catch((error) => {
  document.getElementById("p5").innerHTML = "CATCH: " + error;
});
</script>

</body>